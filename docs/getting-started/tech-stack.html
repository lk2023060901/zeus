<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>技术栈 - Zeus项目文档</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <a href="../index.html" class="logo">Zeus 项目</a>
            <ul class="nav-links">
                <li><a href="index.html">快速开始</a></li>
                <li><a href="../modules/index.html">模块文档</a></li>
                <li><a href="../development/index.html">开发指南</a></li>
                <li><a href="../api/index.html">API文档</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Layout -->
    <div class="main-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h3>快速开始</h3>
            <ul class="sidebar-nav">
                <li><a href="index.html">概览</a></li>
                <li><a href="tech-stack.html" class="active">技术栈</a></li>
                <li><a href="build-guide.html">构建指南</a></li>
                <li><a href="installation.html">安装说明</a></li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <!-- Breadcrumbs -->
            <nav class="breadcrumb">
                <a href="../index.html">首页</a>
                <span>/</span>
                <a href="index.html">快速开始</a>
                <span>/</span>
                <span>技术栈</span>
            </nav>

            <h1>技术栈</h1>
            
            <p>Zeus游戏框架基于现代C++技术栈构建，采用业界标准的开源库和工具，为大型MMORPG游戏开发提供高性能、高可用性和分布式支持。</p>

            <!-- Core Technologies -->
            <section>
                <h2>核心技术</h2>
                
                <div class="card">
                    <h3>C++17 标准</h3>
                    <p>Zeus游戏框架使用C++17作为开发标准，利用现代C++特性提升游戏性能和开发效率，支持高并发游戏逻辑处理。</p>
                    
                    <h4>主要特性使用：</h4>
                    <ul>
                        <li><strong>std::filesystem</strong> - 游戏资源和配置文件管理</li>
                        <li><strong>structured bindings</strong> - 简化游戏数据结构操作</li>
                        <li><strong>if constexpr</strong> - 游戏逻辑编译时优化</li>
                        <li><strong>std::optional</strong> - 游戏状态安全管理</li>
                        <li><strong>string_view</strong> - 高效的游戏数据传输</li>
                    </ul>

                    <div class="alert alert-info">
                        <strong>编译器要求:</strong> 需要完整支持C++17的编译器，如GCC 8+、Clang 6+、MSVC 2017 15.7+
                        <br><strong>注意:</strong> 早期版本（如GCC 7、Clang 5）对C++17特性支持不完整，可能导致编译错误
                    </div>
                </div>

                <div class="card">
                    <h3>CMake 3.16+</h3>
                    <p>使用CMake作为跨平台构建系统，支持多种编译器和平台。</p>
                    
                    <h4>CMake特性：</h4>
                    <ul>
                        <li><strong>模块化配置</strong> - 每个组件都有独立的CMakeLists.txt</li>
                        <li><strong>目标导向</strong> - 使用现代CMake target-based方式</li>
                        <li><strong>依赖管理</strong> - 自动下载和配置第三方库</li>
                        <li><strong>构建选项</strong> - 灵活的编译时配置选项</li>
                        <li><strong>跨平台</strong> - 支持Linux、macOS、Windows</li>
                    </ul>

                    <pre><code># 支持的CMake版本
cmake_minimum_required(VERSION 3.16)

# 现代CMake目标定义
add_library(common_spdlog ${SOURCES})
target_link_libraries(common_spdlog PUBLIC spdlog::spdlog)</code></pre>
                </div>
            </section>

            <!-- Third-party Libraries -->
            <section>
                <h2>第三方库</h2>

                <div class="card">
                    <h3>spdlog 1.15.3</h3>
                    <p>高性能的C++日志库，为游戏框架提供完整的日志基础设施，支持分布式日志收集和实时监控。</p>
                    
                    <h4>核心特性：</h4>
                    <ul>
                        <li><strong>高性能</strong> - 零拷贝设计，最小化内存分配</li>
                        <li><strong>线程安全</strong> - 内置多线程支持</li>
                        <li><strong>多种Sink</strong> - 支持文件、控制台、网络等输出</li>
                        <li><strong>日志轮转</strong> - 支持按时间、大小轮转日志文件</li>
                        <li><strong>格式化</strong> - 灵活的日志格式定制</li>
                    </ul>

                    <h4>在Zeus游戏框架中的应用：</h4>
                    <ul>
                        <li>游戏事件日志记录：玩家行为、装备交易、战斗统计等</li>
                        <li>系统监控日志：服务器性能、内存使用、网络状态等</li>
                        <li>错误诊断日志：系统异常、游戏逻辑错误、数据异常等</li>
                        <li>分布式日志汇聚：多服务器日志统一收集和管理</li>
                    </ul>

                    <pre><code>// 使用示例
auto logger = spdlog::daily_logger_mt("game", "logs/game.log", 0, 0);
logger->info("游戏启动成功");
logger->warn("内存使用率: {}%", memory_usage);</code></pre>
                </div>

                <div class="card">
                    <h3>nlohmann/json 3.12.0</h3>
                    <p>现代C++的JSON库，为游戏框架提供灵活的配置管理和数据交换功能。</p>
                    
                    <h4>核心特性：</h4>
                    <ul>
                        <li><strong>头文件库</strong> - 单头文件，易于集成</li>
                        <li><strong>STL兼容</strong> - 与标准容器无缝集成</li>
                        <li><strong>类型安全</strong> - 编译时类型检查</li>
                        <li><strong>直观API</strong> - 类似JavaScript的使用方式</li>
                        <li><strong>性能优化</strong> - 高效的解析和序列化</li>
                    </ul>

                    <h4>在Zeus游戏框架中的应用：</h4>
                    <ul>
                        <li>游戏配置管理：服务器参数、游戏规则、平衡参数等</li>
                        <li>玩家数据交换：角色信息、背包数据、公会信息等</li>
                        <li>网络协议数据：客户端与服务器通信数据格式</li>
                        <li>配置热更新：运行时动态调整游戏参数</li>
                    </ul>

                    <pre><code>// 配置文件示例
{
  "loggers": [
    {
      "name": "game",
      "level": "info",
      "rotation_type": "daily",
      "file_path": "logs/game.log"
    }
  ]
}</code></pre>
                </div>

                <div class="card">
                    <h3>Boost 1.88.0</h3>
                    <p>C++标准库的扩展，为游戏框架提供网络通信、并发处理和系统级功能支持。</p>
                    
                    <h4>核心特性：</h4>
                    <ul>
                        <li><strong>经过验证</strong> - 许多组件成为C++标准</li>
                        <li><strong>高质量</strong> - 严格的代码审查和测试</li>
                        <li><strong>跨平台</strong> - 支持多种平台和编译器</li>
                        <li><strong>Header-only</strong> - 大部分库仅需包含头文件</li>
                    </ul>

                    <h4>在Zeus游戏框架中的应用：</h4>
                    <ul>
                        <li><strong>Boost.Asio</strong> - 高性能网络通信，支持TCP/UDP协议</li>
                        <li><strong>Boost.Thread</strong> - 游戏逻辑多线程处理和任务调度</li>
                        <li><strong>Boost.System</strong> - 系统级错误处理和诊断</li>
                        <li><strong>Boost.Algorithm</strong> - 游戏数据算法和字符串处理</li>
                        <li><strong>Boost.Pool</strong> - 内存池管理，优化游戏对象分配</li>
                    </ul>
                </div>
            </section>

            <!-- Architecture -->
            <section>
                <h2>架构设计</h2>

                <div class="card">
                    <h3>模块化架构</h3>
                    <p>Zeus采用模块化架构设计，每个模块职责清晰，便于维护和扩展。</p>
                    
                    <h4>设计原则：</h4>
                    <ul>
                        <li><strong>单一职责</strong> - 每个模块专注特定功能</li>
                        <li><strong>低耦合</strong> - 模块间依赖最小化</li>
                        <li><strong>高内聚</strong> - 模块内部功能紧密相关</li>
                        <li><strong>可扩展</strong> - 易于添加新模块和功能</li>
                    </ul>

                    <h4>模块层次：</h4>
                    <pre><code>应用层 (Tests/Examples)
    ↓
业务层 (Zeus Application Logic)
    ↓
服务层 (Common Services)
    ↓
基础层 (Third-party Libraries)</code></pre>
                </div>

                <div class="card">
                    <h3>构建配置</h3>
                    <p>灵活的构建配置支持不同的使用场景。</p>
                    
                    <table>
                        <thead>
                            <tr>
                                <th>选项</th>
                                <th>默认值</th>
                                <th>说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>BUILD_SHARED_LIBS</code></td>
                                <td><strong>ON</strong></td>
                                <td>控制是否构建动态库</td>
                            </tr>
                            <tr>
                                <td><code>BUILD_TESTS</code></td>
                                <td><strong>OFF</strong></td>
                                <td>控制是否构建测试程序</td>
                            </tr>
                            <tr>
                                <td><code>CMAKE_BUILD_TYPE</code></td>
                                <td>Release</td>
                                <td>构建类型（Debug/Release）</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Development Tools -->
            <section>
                <h2>开发工具</h2>

                <div class="card">
                    <h3>推荐开发环境</h3>
                    <ul>
                        <li><strong>IDE</strong>: Visual Studio Code, CLion, Visual Studio</li>
                        <li><strong>编译器</strong>: GCC 8+, Clang 6+, MSVC 2017 15.7+</li>
                        <li><strong>调试器</strong>: GDB, LLDB, Visual Studio Debugger</li>
                        <li><strong>版本控制</strong>: Git</li>
                        <li><strong>包管理</strong>: vcpkg, Conan (可选)</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>代码质量工具</h3>
                    <ul>
                        <li><strong>静态分析</strong>: clang-tidy, cppcheck</li>
                        <li><strong>格式化</strong>: clang-format</li>
                        <li><strong>内存检查</strong>: Valgrind, AddressSanitizer</li>
                        <li><strong>性能分析</strong>: perf, Instruments</li>
                    </ul>
                </div>
            </section>

            <!-- Navigation -->
            <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border-color); display: flex; justify-content: space-between;">
                <a href="index.html" class="btn btn-secondary">← 快速开始概览</a>
                <a href="build-guide.html" class="btn">构建指南 →</a>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div>
                <p>&copy; 2025 Zeus项目. 基于C++17开发的大型MMORPG游戏框架，支持分布式部署。</p>
            </div>
            <ul class="footer-nav">
                <li><a href="../index.html">首页</a></li>
                <li><a href="index.html">快速开始</a></li>
                <li><a href="../modules/index.html">模块文档</a></li>
                <li><a href="../development/index.html">开发指南</a></li>
            </ul>
        </div>
    </footer>
</body>
</html>