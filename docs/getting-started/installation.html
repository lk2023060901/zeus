<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®‰è£…è¯´æ˜ - Zeusé¡¹ç›®æ–‡æ¡£</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <a href="../index.html" class="logo">Zeus é¡¹ç›®</a>
            <ul class="nav-links">
                <li><a href="index.html">å¿«é€Ÿå¼€å§‹</a></li>
                <li><a href="../modules/index.html">æ¨¡å—æ–‡æ¡£</a></li>
                <li><a href="../development/index.html">å¼€å‘æŒ‡å—</a></li>
                <li><a href="../api/index.html">APIæ–‡æ¡£</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Layout -->
    <div class="main-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h3>å¿«é€Ÿå¼€å§‹</h3>
            <ul class="sidebar-nav">
                <li><a href="index.html">æ¦‚è§ˆ</a></li>
                <li><a href="tech-stack.html">æŠ€æœ¯æ ˆ</a></li>
                <li><a href="build-guide.html">æ„å»ºæŒ‡å—</a></li>
                <li><a href="installation.html" class="active">å®‰è£…è¯´æ˜</a></li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <!-- Breadcrumbs -->
            <nav class="breadcrumb">
                <a href="../index.html">é¦–é¡µ</a>
                <span>/</span>
                <a href="index.html">å¿«é€Ÿå¼€å§‹</a>
                <span>/</span>
                <span>å®‰è£…è¯´æ˜</span>
            </nav>

            <h1>å®‰è£…è¯´æ˜</h1>
            
            <p>æœ¬æŒ‡å—è¯¦ç»†è¯´æ˜å¦‚ä½•åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å®‰è£…å’Œéƒ¨ç½²Zeusæ¸¸æˆæ¡†æ¶ï¼ŒåŒ…æ‹¬æ¸¸æˆæœåŠ¡å™¨éƒ¨ç½²ã€å®¹å™¨åŒ–éƒ¨ç½²å’Œæ¡†æ¶é›†æˆæ–¹æ¡ˆã€‚</p>

            <!-- Installation Options -->
            <section>
                <h2>å®‰è£…æ–¹å¼</h2>
                
                <div class="grid">
                    <div class="card">
                        <h3>ğŸ”§ æœ¬åœ°ç¼–è¯‘å®‰è£…</h3>
                        <p>æ¨èæ–¹å¼ï¼šä»æºç ç¼–è¯‘æ¸¸æˆæ¡†æ¶å¹¶éƒ¨ç½²åˆ°æ¸¸æˆæœåŠ¡å™¨</p>
                        <ul>
                            <li>å®Œå…¨æ§åˆ¶ç¼–è¯‘é€‰é¡¹</li>
                            <li>é’ˆå¯¹ç›®æ ‡ç³»ç»Ÿä¼˜åŒ–</li>
                            <li>æ”¯æŒè‡ªå®šä¹‰å®‰è£…è·¯å¾„</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>ğŸ“¦ é¢„ç¼–è¯‘åŒ…</h3>
                        <p>å¿«é€Ÿéƒ¨ç½²ï¼šä½¿ç”¨é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶åŒ…</p>
                        <ul>
                            <li>å¿«é€Ÿå®‰è£…éƒ¨ç½²</li>
                            <li>æ ‡å‡†åŒ–é…ç½®</li>
                            <li>é€‚åˆæ‰¹é‡éƒ¨ç½²</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>ğŸ³ å®¹å™¨éƒ¨ç½²</h3>
                        <p>ç°ä»£åŒ–éƒ¨ç½²ï¼šä½¿ç”¨Dockerå®¹å™¨</p>
                        <ul>
                            <li>ç¯å¢ƒéš”ç¦»</li>
                            <li>è½»æ¾æ‰©å±•</li>
                            <li>ä¸€è‡´æ€§éƒ¨ç½²</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>ğŸ“š æ¡†æ¶é›†æˆ</h3>
                        <p>æ¸¸æˆå¼€å‘ï¼šå°†Zeusä½œä¸ºæ¸¸æˆåŸºç¡€æ¡†æ¶ä½¿ç”¨</p>
                        <ul>
                            <li>CMakeæ¸¸æˆé¡¹ç›®é›†æˆ</li>
                            <li>æ¸¸æˆæ¨¡å—åŒ–å¼€å‘æ”¯æŒ</li>
                            <li>æ¸¸æˆæ ¸å¿ƒåº“å’Œå¤´æ–‡ä»¶</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Source Installation -->
            <section>
                <h2>æºç ç¼–è¯‘å®‰è£…</h2>
                
                <div class="card">
                    <h3>æ ‡å‡†å®‰è£…æµç¨‹</h3>
                    <pre><code># 1. è·å–æºç 
git clone &lt;repository-url&gt; zeus
cd zeus

# 2. åˆ›å»ºæ„å»ºç›®å½•
mkdir build && cd build

# 3. é…ç½®å®‰è£… (ç”Ÿäº§ç¯å¢ƒæ¨èé™æ€åº“)
cmake .. \
  -DCMAKE_BUILD_TYPE=Release \
  -DBUILD_SHARED_LIBS=OFF \
  -DBUILD_TESTS=OFF \
  -DCMAKE_INSTALL_PREFIX=/usr/local

# 4. ç¼–è¯‘é¡¹ç›®
make -j$(nproc)

# 5. è¿è¡Œæµ‹è¯• (å¯é€‰)
make test

# 6. å®‰è£…åˆ°ç³»ç»Ÿ
sudo make install</code></pre>
                </div>

                <div class="card">
                    <h3>è‡ªå®šä¹‰å®‰è£…è·¯å¾„</h3>
                    <pre><code># å®‰è£…åˆ°æŒ‡å®šç›®å½•
cmake .. \
  -DCMAKE_INSTALL_PREFIX=/opt/zeus \
  -DCMAKE_BUILD_TYPE=Release \
  -DBUILD_SHARED_LIBS=OFF \
  -DBUILD_TESTS=OFF

make -j$(nproc)
sudo make install

# éªŒè¯å®‰è£…
ls -la /opt/zeus/</code></pre>
                    
                    <div class="alert alert-info">
                        <strong>å®‰è£…ç›®å½•ç»“æ„ï¼š</strong>
                        <pre><code>/opt/zeus/
â”œâ”€â”€ include/common/spdlog/    # å¤´æ–‡ä»¶
â”œâ”€â”€ lib/                      # åº“æ–‡ä»¶
â”œâ”€â”€ bin/                      # å¯æ‰§è¡Œæ–‡ä»¶ (å¦‚æœBUILD_TESTS=ON)
â””â”€â”€ share/zeus/              # é…ç½®å’Œæ–‡æ¡£</code></pre>
                    </div>
                </div>

                <div class="card">
                    <h3>åŠ¨æ€åº“å®‰è£…</h3>
                    <p>å¦‚æœéœ€è¦åŠ¨æ€åº“ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹é…ç½®ï¼š</p>
                    <pre><code># æ„å»ºåŠ¨æ€åº“
cmake .. \
  -DCMAKE_BUILD_TYPE=Release \
  -DBUILD_SHARED_LIBS=ON \
  -DBUILD_TESTS=OFF \
  -DCMAKE_INSTALL_PREFIX=/usr/local

make -j$(nproc)
sudo make install

# æ›´æ–°åŠ¨æ€åº“ç¼“å­˜
sudo ldconfig</code></pre>
                </div>
            </section>

            <!-- Package Installation -->
            <section>
                <h2>é¢„ç¼–è¯‘åŒ…å®‰è£…</h2>
                
                <div class="card">
                    <h3>åˆ›å»ºå®‰è£…åŒ…</h3>
                    <p>é¦–å…ˆéœ€è¦åˆ›å»ºé¢„ç¼–è¯‘åŒ…ï¼š</p>
                    <pre><code># æ„å»ºReleaseç‰ˆæœ¬
mkdir build && cd build
cmake .. -DCMAKE_BUILD_TYPE=Release -DBUILD_TESTS=OFF
make -j$(nproc)

# åˆ›å»ºå®‰è£…åŒ…
make package

# ç”Ÿæˆçš„åŒ…æ–‡ä»¶
ls -la *.tar.gz *.deb *.rpm</code></pre>
                </div>

                <div class="card">
                    <h3>Ubuntu/Debianå®‰è£…</h3>
                    <pre><code># å®‰è£…debåŒ…
sudo dpkg -i zeus-1.0.0-Linux.deb

# è§£å†³ä¾èµ–é—®é¢˜ (å¦‚æœæœ‰)
sudo apt-get install -f

# éªŒè¯å®‰è£…
dpkg -l | grep zeus</code></pre>
                </div>

                <div class="card">
                    <h3>CentOS/RHELå®‰è£…</h3>
                    <pre><code># å®‰è£…rpmåŒ…
sudo rpm -ivh zeus-1.0.0-Linux.rpm

# æˆ–ä½¿ç”¨yum/dnf
sudo yum localinstall zeus-1.0.0-Linux.rpm

# éªŒè¯å®‰è£…
rpm -qa | grep zeus</code></pre>
                </div>

                <div class="card">
                    <h3>é€šç”¨tar.gzåŒ…</h3>
                    <pre><code># è§£å‹åˆ°ç›®æ ‡ç›®å½•
sudo tar -xzf zeus-1.0.0-Linux.tar.gz -C /opt/

# åˆ›å»ºç¬¦å·é“¾æ¥ (å¯é€‰)
sudo ln -s /opt/zeus/bin/* /usr/local/bin/
sudo ln -s /opt/zeus/lib/* /usr/local/lib/
sudo ln -s /opt/zeus/include/* /usr/local/include/

# æ›´æ–°åŠ¨æ€åº“ç¼“å­˜
sudo ldconfig</code></pre>
                </div>
            </section>

            <!-- Container Deployment -->
            <section>
                <h2>å®¹å™¨éƒ¨ç½²</h2>
                
                <div class="card">
                    <h3>åˆ›å»ºDockeré•œåƒ</h3>
                    <p>åˆ›å»ºDockerfileï¼š</p>
                    <pre><code># Dockerfile
FROM ubuntu:20.04

# å®‰è£…ä¾èµ–
RUN apt-get update && apt-get install -y \
    build-essential \
    cmake \
    git \
    && rm -rf /var/lib/apt/lists/*

# å¤åˆ¶æºç 
COPY . /opt/zeus
WORKDIR /opt/zeus

# æ„å»ºé¡¹ç›®
RUN mkdir build && cd build && \
    cmake .. -DCMAKE_BUILD_TYPE=Release -DBUILD_TESTS=OFF && \
    make -j$(nproc) && \
    make install

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app

# å¤åˆ¶é…ç½®æ–‡ä»¶
COPY configs/log_config.json /app/

# è¿è¡Œæ—¶ç”¨æˆ·
RUN useradd -m -s /bin/bash zeus
USER zeus

# é»˜è®¤å‘½ä»¤
CMD ["/bin/bash"]</code></pre>
                </div>

                <div class="card">
                    <h3>æ„å»ºå’Œè¿è¡Œå®¹å™¨</h3>
                    <pre><code># æ„å»ºé•œåƒ
docker build -t zeus:latest .

# è¿è¡Œå®¹å™¨
docker run -it --name zeus-app \
  -v $(pwd)/logs:/app/logs \
  -v $(pwd)/configs:/app/configs \
  zeus:latest

# åœ¨å®¹å™¨ä¸­è¿è¡Œæµ‹è¯•
docker exec zeus-app /usr/local/bin/zeus_test_basic</code></pre>
                </div>

                <div class="card">
                    <h3>Docker Composeéƒ¨ç½²</h3>
                    <p>åˆ›å»ºdocker-compose.ymlï¼š</p>
                    <pre><code>version: '3.8'

services:
  zeus-app:
    build: .
    container_name: zeus-application
    volumes:
      - ./logs:/app/logs
      - ./configs:/app/configs
    environment:
      - LOG_LEVEL=info
    restart: unless-stopped
    
  # å¯é€‰ï¼šæ—¥å¿—ç›‘æ§æœåŠ¡
  log-monitor:
    image: grafana/loki:latest
    container_name: zeus-loki
    ports:
      - "3100:3100"
    volumes:
      - ./logs:/var/log/zeus:ro</code></pre>
                    
                    <pre><code># å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f zeus-app</code></pre>
                </div>
            </section>

            <!-- Library Integration -->
            <section>
                <h2>åº“é›†æˆ</h2>
                
                <div class="card">
                    <h3>CMakeé›†æˆ</h3>
                    <p>åœ¨å…¶ä»–CMakeé¡¹ç›®ä¸­ä½¿ç”¨Zeusï¼š</p>
                    <pre><code># æŸ¥æ‰¾ZeusåŒ…
find_package(Zeus REQUIRED)

# åˆ›å»ºç›®æ ‡å¹¶é“¾æ¥
add_executable(my_app main.cpp)
target_link_libraries(my_app Zeus::common_spdlog)

# æˆ–è€…ä½œä¸ºå­é¡¹ç›®
add_subdirectory(third_party/zeus)
target_link_libraries(my_app common_spdlog)</code></pre>
                </div>

                <div class="card">
                    <h3>pkg-configé›†æˆ</h3>
                    <pre><code># æŸ¥æ‰¾Zeusåº“
pkg-config --cflags --libs zeus

# åœ¨Makefileä¸­ä½¿ç”¨
CFLAGS += $(shell pkg-config --cflags zeus)
LDFLAGS += $(shell pkg-config --libs zeus)

# ç¼–è¯‘ç¤ºä¾‹
g++ -o my_app main.cpp $(shell pkg-config --cflags --libs zeus)</code></pre>
                </div>

                <div class="card">
                    <h3>æ‰‹åŠ¨é“¾æ¥</h3>
                    <pre><code># ç¼–è¯‘æ—¶æŒ‡å®šè·¯å¾„
g++ -o my_app main.cpp \
  -I/usr/local/include \
  -L/usr/local/lib \
  -lcommon_spdlog \
  -lspdlog \
  -lfmt</code></pre>
                </div>
            </section>

            <!-- Configuration -->
            <section>
                <h2>é…ç½®ç®¡ç†</h2>
                
                <div class="card">
                    <h3>ç³»ç»Ÿçº§é…ç½®</h3>
                    <p>å°†é…ç½®æ–‡ä»¶æ”¾ç½®åœ¨æ ‡å‡†ä½ç½®ï¼š</p>
                    <pre><code># åˆ›å»ºé…ç½®ç›®å½•
sudo mkdir -p /etc/zeus
sudo mkdir -p /var/log/zeus

# å¤åˆ¶é»˜è®¤é…ç½®
sudo cp configs/log_config.json /etc/zeus/

# è®¾ç½®æƒé™
sudo chown -R zeus:zeus /var/log/zeus
sudo chmod 755 /etc/zeus
sudo chmod 644 /etc/zeus/log_config.json</code></pre>
                </div>

                <div class="card">
                    <h3>ç¯å¢ƒå˜é‡é…ç½®</h3>
                    <pre><code># è®¾ç½®ç¯å¢ƒå˜é‡
export ZEUS_CONFIG_PATH=/etc/zeus/log_config.json
export ZEUS_LOG_DIR=/var/log/zeus

# æ·»åŠ åˆ°ç³»ç»Ÿé…ç½®
echo 'export ZEUS_CONFIG_PATH=/etc/zeus/log_config.json' >> /etc/environment
echo 'export ZEUS_LOG_DIR=/var/log/zeus' >> /etc/environment</code></pre>
                </div>

                <div class="card">
                    <h3>é…ç½®æ–‡ä»¶ç¤ºä¾‹</h3>
                    <pre><code>{
  "loggers": [
    {
      "name": "system",
      "level": "info",
      "rotation_type": "daily",
      "file_path": "/var/log/zeus/system.log",
      "max_files": 30,
      "console_output": false
    },
    {
      "name": "application",
      "level": "debug",
      "rotation_type": "hourly", 
      "file_path": "/var/log/zeus/app.log",
      "max_files": 168,
      "console_output": true
    }
  ]
}</code></pre>
                </div>
            </section>

            <!-- Verification -->
            <section>
                <h2>å®‰è£…éªŒè¯</h2>
                
                <div class="card">
                    <h3>éªŒè¯å®‰è£…</h3>
                    <pre><code># æ£€æŸ¥åº“æ–‡ä»¶
ls -la /usr/local/lib/libcommon_spdlog*

# æ£€æŸ¥å¤´æ–‡ä»¶
ls -la /usr/local/include/common/spdlog/

# æ£€æŸ¥å¯æ‰§è¡Œæ–‡ä»¶ (å¦‚æœå®‰è£…äº†æµ‹è¯•ç¨‹åº)
ls -la /usr/local/bin/zeus_*

# æµ‹è¯•åº“é“¾æ¥
echo '#include "common/spdlog/zeus_log_manager.h"
int main() { return 0; }' > test.cpp

g++ -o test test.cpp -lcommon_spdlog && echo "å®‰è£…æˆåŠŸï¼"</code></pre>
                </div>

                <div class="card">
                    <h3>è¿è¡Œæ—¶æµ‹è¯•</h3>
                    <pre><code># åˆ›å»ºç®€å•æµ‹è¯•ç¨‹åº
cat > verification_test.cpp << 'EOF'
#include "common/spdlog/zeus_log_manager.h"
#include <iostream>

int main() {
    using namespace common::spdlog;
    
    if (!ZeusLogManager::Instance().Initialize()) {
        std::cerr << "æ—¥å¿—åˆå§‹åŒ–å¤±è´¥" << std::endl;
        return 1;
    }
    
    auto logger = ZeusLogManager::Instance().GetLogger("test");
    logger->info("Zeuså®‰è£…éªŒè¯æˆåŠŸï¼");
    
    std::cout << "éªŒè¯å®Œæˆ - æ£€æŸ¥æ—¥å¿—æ–‡ä»¶" << std::endl;
    return 0;
}
EOF

# ç¼–è¯‘å’Œè¿è¡Œ
g++ -o verification_test verification_test.cpp -lcommon_spdlog
./verification_test</code></pre>
                </div>
            </section>

            <!-- Uninstallation -->
            <section>
                <h2>å¸è½½</h2>
                
                <div class="card">
                    <h3>æºç å®‰è£…å¸è½½</h3>
                    <pre><code># å¦‚æœæœ‰å®‰è£…æ¸…å•
sudo make uninstall

# æ‰‹åŠ¨å¸è½½
sudo rm -rf /usr/local/include/common/spdlog
sudo rm -f /usr/local/lib/libcommon_spdlog*
sudo rm -f /usr/local/bin/zeus_*

# æ¸…ç†é…ç½®æ–‡ä»¶ (å¯é€‰)
sudo rm -rf /etc/zeus
sudo rm -rf /var/log/zeus</code></pre>
                </div>

                <div class="card">
                    <h3>åŒ…ç®¡ç†å™¨å¸è½½</h3>
                    <pre><code># Ubuntu/Debian
sudo apt-get remove zeus
sudo apt-get purge zeus  # åŒ…å«é…ç½®æ–‡ä»¶

# CentOS/RHEL
sudo yum remove zeus
# æˆ–
sudo dnf remove zeus</code></pre>
                </div>

                <div class="card">
                    <h3>å®¹å™¨æ¸…ç†</h3>
                    <pre><code># åœæ­¢å¹¶åˆ é™¤å®¹å™¨
docker stop zeus-app
docker rm zeus-app

# åˆ é™¤é•œåƒ
docker rmi zeus:latest

# Docker Composeæ¸…ç†
docker-compose down
docker-compose down --volumes  # åŒ…å«æ•°æ®å·</code></pre>
                </div>
            </section>

            <!-- Troubleshooting -->
            <section>
                <h2>å®‰è£…é—®é¢˜æ’æŸ¥</h2>
                
                <div class="card">
                    <h3>æƒé™é—®é¢˜</h3>
                    <div class="alert alert-warning">
                        <strong>é—®é¢˜ï¼š</strong> <code>Permission denied</code>
                    </div>
                    <p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
                    <ul>
                        <li>ç¡®ä¿æœ‰sudoæƒé™ï¼š<code>sudo make install</code></li>
                        <li>æ£€æŸ¥ç›®æ ‡ç›®å½•æƒé™ï¼š<code>ls -la /usr/local/</code></li>
                        <li>ä¿®æ”¹å®‰è£…è·¯å¾„åˆ°ç”¨æˆ·ç›®å½•ï¼š<code>-DCMAKE_INSTALL_PREFIX=$HOME/zeus</code></li>
                    </ul>
                </div>

                <div class="card">
                    <h3>ä¾èµ–é—®é¢˜</h3>
                    <div class="alert alert-warning">
                        <strong>é—®é¢˜ï¼š</strong> <code>libcommon_spdlog.so: cannot open shared object file</code>
                    </div>
                    <p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
                    <pre><code># æ›´æ–°åŠ¨æ€åº“ç¼“å­˜
sudo ldconfig

# æˆ–æ·»åŠ åº“è·¯å¾„åˆ°ç¯å¢ƒå˜é‡
export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH

# æ°¸ä¹…æ·»åŠ 
echo '/usr/local/lib' | sudo tee /etc/ld.so.conf.d/zeus.conf
sudo ldconfig</code></pre>
                </div>

                <div class="card">
                    <h3>ç‰ˆæœ¬å†²çª</h3>
                    <div class="alert alert-warning">
                        <strong>é—®é¢˜ï¼š</strong> å¤šä¸ªç‰ˆæœ¬Zeuså…±å­˜å¯¼è‡´å†²çª
                    </div>
                    <p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
                    <ul>
                        <li>ä½¿ç”¨ä¸åŒçš„å®‰è£…å‰ç¼€</li>
                        <li>é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶ç‰ˆæœ¬é€‰æ‹©</li>
                        <li>ä½¿ç”¨å®¹å™¨éš”ç¦»ä¸åŒç‰ˆæœ¬</li>
                    </ul>
                </div>
            </section>

            <!-- Navigation -->
            <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border-color); display: flex; justify-content: space-between;">
                <a href="build-guide.html" class="btn btn-secondary">â† æ„å»ºæŒ‡å—</a>
                <a href="../modules/index.html" class="btn">æ¨¡å—æ–‡æ¡£ â†’</a>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div>
                <p>&copy; 2025 Zeusé¡¹ç›®. åŸºäºC++17å¼€å‘çš„å¤§å‹MMORPGæ¸¸æˆæ¡†æ¶ï¼Œæ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²ã€‚</p>
            </div>
            <ul class="footer-nav">
                <li><a href="../index.html">é¦–é¡µ</a></li>
                <li><a href="index.html">å¿«é€Ÿå¼€å§‹</a></li>
                <li><a href="../modules/index.html">æ¨¡å—æ–‡æ¡£</a></li>
                <li><a href="../development/index.html">å¼€å‘æŒ‡å—</a></li>
            </ul>
        </div>
    </footer>
</body>
</html>